<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gerardo Arcos - Galería (cuarto)</title>

  <!-- A-Frame (misma familia de versiones que usaste antes) -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>

  <!-- environment helper (opcional para cielo / suelo simple) -->
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>

  <!-- aframe-extras (movement-controls con nipple/joystick) -->
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.2/dist/aframe-extras.min.js"></script>

  <!-- physics (cannon + aframe-physics-system) para static-body / kinematic-body -->
  <script src="https://cdn.jsdelivr.net/gh/schteppe/cannon.js@0.6.2/build/cannon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-physics-system@4.0.1/dist/aframe-physics-system.min.js"></script>

  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="img/logo.png" type="image/png">

  <style>
    body { margin: 0; font-family: sans-serif; }
    header { z-index: 10000; position: relative; }
    /* escena embebida ocupa una porción; ajusta height si la quieres más grande */
    a-scene[embedded] { width: 100%; height: 72vh; display: block; }
    #poema { padding: 20px; max-width: 900px; margin: 18px auto; }
  </style>
</head>
<body>
  <!-- Header / nav (mantengo tu estructura) -->
  <header>
      <h1>GERARDO ARCOS</h1>
      <nav>
          <ul id="nav-list">
              <li><a href="index.html">Inicio</a></li>
              <li><a href="biografia.html">Sobre Mí</a></li>
              <li><a href="proyectos.html">Proyectos</a></li>
              <li><a href="https://arg3r3v.github.io/axolotl/juego.html">Videojuegos</a></li>
          </ul>
      </nav>
      <button id="menu-button"><img src="img/menu.png" alt="Menú"></button>
  </header>

  <!-- ========== ESCENA: solo cuarto + plano colisión ========== -->
  <a-scene embedded
           physics="gravity: 0 -9.8 0" 
           shadow="type: pcfsoft"
           renderer="antialias: true; physicallyCorrectLights: true">

    <!-- Assets: solo el cuarto (cambia la ruta según tu repo) -->
    <a-assets>
      <a-asset-item id="cuartoModel" src="models/cuarto1.glb"></a-asset-item>
      <!-- si quieres, añade aquí un video o textura después -->
    </a-assets>

    <!-- Environment (cielo / ground helper para reflexiones simples) -->
    <a-entity environment="preset: studio; shadow:true; groundColor:#222; skyColor:#dfe7ec"></a-entity>

    <!-- Iluminación (directional + ambient) -->
    <a-entity light="type: hemisphere; intensity: 0.6; color: #ffffff; groundColor: #444"></a-entity>
    <a-entity light="type: directional; intensity: 1.0; castShadow: true" position="6 10 6" rotation="-45 25 0" shadow-camera-automatic="true"></a-entity>

    <!-- RIG: movement-controls con joystick (nipple) + keyboard/gamepad -->
    <a-entity id="rig"
              position="0 1.6 5"
              movement-controls="controls: gamepad, trackpad, keyboard, nipple"
              kinematic-body>
      <!-- Cámara dentro del rig -->
      <a-entity id="cam"
                camera
                look-controls="touchEnabled: true; magicWindowTrackingEnabled: true; pointerLockEnabled: true">
        <a-entity cursor="rayOrigin: mouse" raycaster="objects: .clickable"></a-entity>
      </a-entity>
    </a-entity>

    <!-- MODELO: tu cuarto (solo uno) -->
    <a-entity id="cuarto" gltf-model="#cuartoModel" position="0 0 0" scale="1 1 1" shadow="cast: true; receive: true"></a-entity>

    <!-- Plano invisible para colisiones (piso). static-body para bloquear al rig -->
    <a-plane id="colision-piso"
             position="0 0 0"
             rotation="-90 0 0"
             width="200" height="200"
             visible="false"
             static-body
             shadow="receive: true">
    </a-plane>

    <!-- Opcional: bounds visual para debug (descomenta para probar) -->
    <!-- <a-box position="0 0.5 -4" depth="0.5" height="1" width="1" color="#f00"></a-box> -->

  </a-scene>
  <!-- ========== FIN ESCENA ========== -->

  <!-- Tu contenido HTML fuera de la escena -->
  <div id="poema">
      <h2>PORQUE AÚN SOY JOVEN</h2>
      <p class="poem">
        Porque aún soy joven, y algo necio,<br>
        Aún soy joven para errar sin malicia,<br>
        Para amar con verdad y sin prisa,<br>
        Para aprender lo que el tiempo avisa,<br>
        Y perderme en charlas de risa,<br>
        En conversaciones sin juicio.
      </p>
      <p class="poem">
        Pobres los jóvenes que en la juventud se hallan,<br>
        Tan enfermos de sueños que nunca estallan,<br>
        Malaventurados los que deben soportar,<br>
        La llama eterna que no pueden apagar.
      </p>
  </div>

  <script>
    // Ajuste: si necesitas que el rig empiece en otra posición al cargar, cambia aquí.
    document.addEventListener('DOMContentLoaded', () => {
      // si prefieres empezar en (0,1.6,2) o en otro punto, descomenta y modifica:
      // const rig = document.getElementById('rig'); rig.setAttribute('position','0 1.6 2');
    });
  </script>

  <script defer src="script.js"></script>
</body>
</html>
