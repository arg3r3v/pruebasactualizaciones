<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gerardo Arcos - Cuarto con luz interior</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <!-- aframe-extras (movement-controls con nipple) -->
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.2/dist/aframe-extras.min.js"></script>
  <!-- physics (cannon + aframe-physics-system) -->
  <script src="https://cdn.jsdelivr.net/gh/schteppe/cannon.js@0.6.2/build/cannon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-physics-system@4.0.1/dist/aframe-physics-system.min.js"></script>
  <!-- animation-mixer por si tienes animaciones -->
  <script src="https://cdn.jsdelivr.net/npm/aframe-animation-mixer@6.0.0/dist/aframe-animation-mixer.min.js"></script>

  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="img/logo.png" type="image/png">

  <style>
    body { margin: 0; font-family: sans-serif; }
    header { z-index: 10000; position: relative; }
    a-scene[embedded] { width: 100%; height: 72vh; display: block; }
    #poema { padding: 20px; max-width: 900px; margin: 18px auto; }
  </style>
</head>
<body>
  <header>
    <h1>GERARDO ARCOS</h1>
    <nav>
      <ul id="nav-list">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="biografia.html">Sobre Mí</a></li>
        <li><a href="proyectos.html">Proyectos</a></li>
        <li><a href="https://arg3r3v.github.io/axolotl/juego.html">Videojuegos</a></li>
      </ul>
    </nav>
  </header>

  <!-- ESCENA: cuarto con luz interior verde -->
  <a-scene embedded
           physics="gravity: 0 -9.8 0"
           shadow="type: pcfsoft"
           renderer="antialias: true; physicallyCorrectLights: true">

    <!-- Assets: techo, paredes, objetos separados -->
    <a-assets>
      <a-asset-item id="techoModel" src="models/cuarto1.glb"></a-asset-item>
      <a-asset-item id="paredesModel" src="models/cuarto2.glb"></a-asset-item>
      <a-asset-item id="objetosModel" src="models/cuarto3.glb"></a-asset-item>
      <a-asset-item id="techoModel1" src="models/cuarto4.glb"></a-asset-item>
      <a-asset-item id="paredesModel1" src="models/cuarto5.glb"></a-asset-item>
      <a-asset-item id="objetosModel1" src="models/cuarto6.glb"></a-asset-item>
      <!-- opcional: el model del personaje o decoración animada -->
      <a-asset-item id="personajeModel" src="models/personaje.glb"></a-asset-item>
    </a-assets>

    <!-- Ambiente muy tenue (para que la luz verde sea dominante) -->
    <a-entity light="type: ambient; intensity: 0.08; color: #111111"></a-entity>

    <!-- LUZ INTERIOR VERDE (point light) -->
    <!-- Ajusta position, intensity, distance y decay según tu cuarto -->
    <a-entity id="greenLamp"
              light="type: point; color: #2bff7a; intensity: 1.6; distance: 8; decay: 2; castShadow: true"
              position="0 2.8 0">
      <!-- opcional: un pequeño globo visible que represente la lámpara en modo debug -->
      <!-- <a-sphere radius="0.08" color="#2bff7a" position="0 0 0"></a-sphere> -->
    </a-entity>

    <!-- RIG para movimiento (joystick on mobile + WASD desktop) -->
    <a-entity id="rig"
              position="0 1.6 4"
              movement-controls="controls: gamepad, trackpad, keyboard, nipple"
              kinematic-body>
      <a-entity id="cam"
                camera
                look-controls="touchEnabled: true; magicWindowTrackingEnabled: true; pointerLockEnabled: true">
        <a-entity cursor="rayOrigin: mouse" raycaster="objects: .clickable"></a-entity>
      </a-entity>
    </a-entity>

    <!-- MODELOS: techo arriba, paredes y objetos interiores -->
    <!-- Pon shadow="cast: true; receive: true" para que proyecten/reciban sombras -->
    <a-entity id="paredes" gltf-model="#paredesModel" position="0 0 0" scale="1 1 1" shadow="cast: true; receive: true"></a-entity>
    <a-entity id="objetos" gltf-model="#objetosModel" position="0 0 0" scale="1 1 1" shadow="cast: true; receive: true"></a-entity>
    <a-entity id="techo" gltf-model="#techoModel" position="0 0 0" scale="1 1 1" shadow="receive: true"></a-entity>

    <!-- Personaje decorativo (si tienes animaciones) -->
    <a-entity id="personaje" gltf-model="#personajeModel" position="1 0 -2" scale="1 1 1" animation-mixer="clip: *; loop: repeat" shadow="cast: true"></a-entity>

    <!-- Plano invisible de colisión (piso) -->
    <a-plane id="colision-piso"
             position="0 0 0"
             rotation="-90 0 0"
             width="100" height="100"
             visible="false"
             static-body
             shadow="receive: true">
    </a-plane>

  </a-scene>

  <!-- Contenido HTML fuera de la escena -->
  <div id="poema">
    <h2>PORQUE AÚN SOY JOVEN</h2>
    <p class="poem">
      Porque aún soy joven, y algo necio,<br>
      Aún soy joven para errar sin malicia,<br>
      Para amar con verdad y sin prisa,<br>
      Para aprender lo que el tiempo avisa,<br>
      Y perderme en charlas de risa,<br>
      En conversaciones sin juicio.
    </p>
  </div>

  <script>
    // Ajustes recomendados automáticos al cargar:
    document.addEventListener('DOMContentLoaded', () => {
      // Si quieres cambiar la posición inicial del rig:
      // document.getElementById('rig').setAttribute('position','0 1.6 3');

      // Si tu techo tiene huecos y la luz se "escapa", sube un poco intensity o reduce distance:
      // document.getElementById('greenLamp').setAttribute('light','intensity: 1.8; distance: 9;');
    });
  </script>

  <script defer src="script.js"></script>
</body>
</html>
